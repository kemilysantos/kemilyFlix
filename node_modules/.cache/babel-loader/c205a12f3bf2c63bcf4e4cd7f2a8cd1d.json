{"ast":null,"code":"var _jsxFileName = \"/home/kemily/kemiflix/kemilyFlix/src/pages/cadastro/Video/index.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport PageDefault from '../../../components/PageDefault';\nimport useForm from '../../../hooks/useForm';\nimport FormField from '../../../components/FormField';\nimport Button from '../../../components/Button';\nimport videosRepository from '../../../repositories/videos';\nimport categoriasRepository from '../../../repositories/categorias';\n\nfunction CadastroVideo() {\n  const history = useHistory();\n  const [categorias, setCategorias] = useState([]);\n  const categoryTitles = categorias.map(({\n    titulo\n  }) => titulo);\n  const {\n    handleChange,\n    values\n  } = useForm({\n    titulo: 'Video padrão',\n    url: 'https://www.youtube.com/watch?v=jOAU81jdi-c',\n    categoria: 'Front End'\n  });\n  useEffect(() => {\n    categoriasRepository.getAll().then(categoriasFromServer => {\n      setCategorias(categoriasFromServer);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(PageDefault, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, \"Cadastro de Video\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: event => {\n      event.preventDefault(); // alert('Video Cadastrado com sucesso!!!1!');\n\n      const categoriaEscolhida = categorias.find(categoria => {\n        return categoria.titulo === values.categoria;\n      });\n      videosRepository.create({\n        titulo: values.titulo,\n        url: values.url,\n        categoriaId: categoriaEscolhida.id\n      }).then(() => {\n        console.log('Cadastrou com sucesso!');\n        history.push('/');\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormField, {\n    label: \"T\\xEDtulo do V\\xEDdeo\",\n    name: \"titulo\",\n    value: values.titulo,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(FormField, {\n    label: \"URL\",\n    name: \"url\",\n    value: values.url,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(FormField, {\n    label: \"Categoria\",\n    name: \"categoria\",\n    value: values.categoria,\n    onChange: handleChange,\n    suggestions: categoryTitles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, \"Cadastrar\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/cadastro/categoria\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, \"Cadastrar Categoria\"));\n}\n\nexport default CadastroVideo;","map":{"version":3,"sources":["/home/kemily/kemiflix/kemilyFlix/src/pages/cadastro/Video/index.js"],"names":["React","useEffect","useState","Link","useHistory","PageDefault","useForm","FormField","Button","videosRepository","categoriasRepository","CadastroVideo","history","categorias","setCategorias","categoryTitles","map","titulo","handleChange","values","url","categoria","getAll","then","categoriasFromServer","event","preventDefault","categoriaEscolhida","find","create","categoriaId","id","console","log","push"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport PageDefault from '../../../components/PageDefault';\nimport useForm from '../../../hooks/useForm';\nimport FormField from '../../../components/FormField';\nimport Button from '../../../components/Button';\nimport videosRepository from '../../../repositories/videos';\nimport categoriasRepository from '../../../repositories/categorias';\n\nfunction CadastroVideo() {\n  const history = useHistory();\n  const [categorias, setCategorias] = useState([]);\n  const categoryTitles = categorias.map(({ titulo }) => titulo);\n  const { handleChange, values } = useForm({\n    titulo: 'Video padrão',\n    url: 'https://www.youtube.com/watch?v=jOAU81jdi-c',\n    categoria: 'Front End',\n  });\n\n  useEffect(() => {\n    categoriasRepository\n      .getAll()\n      .then((categoriasFromServer) => {\n        setCategorias(categoriasFromServer);\n      });\n  }, []);\n\n  return (\n    <PageDefault>\n      <h1>Cadastro de Video</h1>\n\n      <form onSubmit={(event) => {\n        event.preventDefault();\n        // alert('Video Cadastrado com sucesso!!!1!');\n\n        const categoriaEscolhida = categorias.find((categoria) => {\n          return categoria.titulo === values.categoria;\n        });\n\n        videosRepository.create({\n          titulo: values.titulo,\n          url: values.url,\n          categoriaId: categoriaEscolhida.id,\n        })\n          .then(() => {\n            console.log('Cadastrou com sucesso!');\n            history.push('/');\n          });\n      }}\n      >\n        <FormField\n          label=\"Título do Vídeo\"\n          name=\"titulo\"\n          value={values.titulo}\n          onChange={handleChange}\n        />\n\n        <FormField\n          label=\"URL\"\n          name=\"url\"\n          value={values.url}\n          onChange={handleChange}\n        />\n\n        <FormField\n          label=\"Categoria\"\n          name=\"categoria\"\n          value={values.categoria}\n          onChange={handleChange}\n          suggestions={categoryTitles}\n        />\n\n        <Button type=\"submit\">\n          Cadastrar\n        </Button>\n      </form>\n\n      <br />\n      <br />\n\n      <Link to=\"/cadastro/categoria\">\n        Cadastrar Categoria\n      </Link>\n    </PageDefault>\n  );\n}\n\nexport default CadastroVideo;"]},"metadata":{},"sourceType":"module"}